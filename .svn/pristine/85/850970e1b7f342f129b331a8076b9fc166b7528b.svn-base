package cn.edu.tsinghua.thss.tsmart.modeling.bip.policies;

import org.eclipse.gef.EditPart;
import org.eclipse.gef.Request;
import org.eclipse.gef.commands.Command;
import org.eclipse.gef.editpolicies.FlowLayoutEditPolicy;
import org.eclipse.gef.requests.CreateRequest;

import cn.edu.tsinghua.thss.tsmart.modeling.bip.commands.CreatePortCommand;
import cn.edu.tsinghua.thss.tsmart.modeling.bip.models.AtomicTypeModel;
import cn.edu.tsinghua.thss.tsmart.modeling.bip.models.PortAreaModel;
import cn.edu.tsinghua.thss.tsmart.modeling.bip.models.PortModel;


/**
 * 
 * @author: Huangcd (huangcd.thu@gmail.com)
 * @time: 2011-7-9 ÉÏÎç8:26:28
 * @project: CereusBip
 * @package: cereusbip.policies
 * @class: PortAreaChildEditPolicy.java
 * 
 */
public class PortAreaChildEditPolicy extends FlowLayoutEditPolicy {

    @Override
    protected Command createAddCommand(EditPart child, EditPart after) {
        return null;
    }

    @Override
    protected Command createMoveChildCommand(EditPart child, EditPart after) {
        return null;
    }

    @Override
    protected Command getCreateCommand(CreateRequest request) {
        return null;
    }

    @Override
    public Command getCommand(Request request) {
        if (CreatePortCommand.CREATE_PORT_COMMAND.equals(request.getType())) {
            CreatePortCommand command = new CreatePortCommand();
            PortModel child = new PortModel();
            command.setChild(child);
            command.setParent((PortAreaModel) getHost().getModel());
            command.setOwner((AtomicTypeModel) getHost().getParent().getModel());
            return command;
        }
        return super.getCommand(request);
    }
}
